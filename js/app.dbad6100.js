(function(){"use strict";var e={8582:function(e,t,r){var n=r(2856),i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrap",attrs:{id:"app"}},[t("div",{staticClass:"sider"},[t("h1",[e._v("体温和用药记录工具")]),t("form",{on:{submit:function(t){return t.preventDefault(),e.addRecord.apply(null,arguments)}}},[t("label",[e._v("时间：")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newRecord.time,expression:"newRecord.time"}],attrs:{type:"datetime-local",required:"",placeholder:"记录时间"},domProps:{value:e.newRecord.time},on:{input:function(t){t.target.composing||e.$set(e.newRecord,"time",t.target.value)}}}),t("label",[e._v("体温 (℃)：")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.newRecord.temperature,expression:"newRecord.temperature",modifiers:{number:!0}}],attrs:{type:"number",step:"0.1",placeholder:"体温 (支持一位小数)"},domProps:{value:e.newRecord.temperature},on:{input:function(t){t.target.composing||e.$set(e.newRecord,"temperature",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),t("label",[e._v("药名 (可选)：")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newRecord.medicine,expression:"newRecord.medicine"}],attrs:{type:"text",placeholder:"药名"},domProps:{value:e.newRecord.medicine},on:{input:function(t){t.target.composing||e.$set(e.newRecord,"medicine",t.target.value)}}}),t("label",[e._v("剂量 (可选)：")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newRecord.dose,expression:"newRecord.dose"}],attrs:{type:"text",placeholder:"剂量"},domProps:{value:e.newRecord.dose},on:{input:function(t){t.target.composing||e.$set(e.newRecord,"dose",t.target.value)}}}),t("button",{attrs:{type:"submit"}},[e._v("保存")])]),t("div",{staticClass:"temp-recored"},[t("ul",[e._l(e.tempRecords,(function(r,n){return[t("li",{key:n,class:{highlight:e.editingIndex===n,waring:r.temperature>37.5}},[t("span",[t("small",[e._v(e._s(e._f("datePipe")(r.time)))])]),t("span",{staticClass:"temperature"},[t("big",[e._v(e._s(r.temperature))]),e._v("℃")],1),r.medicine?t("span",[e._v(" "+e._s(r.medicine)+e._s(r.dose))]):e._e(),t("div",{staticClass:"actions"},[t("button",{on:{click:function(t){return e.editRecord(n)}}},[e._v("编辑")]),t("button",{on:{click:function(t){return e.deleteRecord(n)}}},[e._v("删除")])])])]}))],2)])]),t("div",{ref:"chart",staticStyle:{width:"100%",height:"600px","margin-top":"20px"}})])},o=[],a=(r(4114),r(2265));const s=[{time:"2024-10-23 19:30:00",temperature:38.2},{time:"2024-10-23 21:30:00",temperature:38.5,medicine:"泰诺",dose:1.3},{time:"2024-10-23 23:30:00",temperature:37.5},{time:"2024-10-24 07:00:00",temperature:39.1,medicine:"泰诺",dose:1.3},{time:"2024-10-24 09:00:00",temperature:37.1},{time:"2024-10-24 11:30:00",temperature:37.3},{time:"2024-10-24 12:30:00",temperature:38.3,medicine:"泰诺",dose:1.3},{time:"2024-10-24 14:00:00",temperature:37.8},{time:"2024-10-24 16:00:00",temperature:38.6},{time:"2024-10-24 16:30:00",temperature:39.1,medicine:"泰诺",dose:1.3},{time:"2024-10-24 18:00:00",temperature:37.6}];function d(e,t="yyyy-MM-dd hh:mm:ss"){const r=new Date(e);var n={"y+":r.getFullYear(),"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds()};for(var i in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t.indexOf("aN")>=0||!e?null:t}var c={data(){return{tempRecords:s,newRecord:{time:"",temperature:null,medicine:"",dose:""},editingIndex:null}},methods:{addRecord(){this.newRecord.temperature||this.newRecord.medicine?(null!==this.editingIndex?(this.tempRecords[this.editingIndex]={...this.newRecord},this.editingIndex=null):this.tempRecords.push({...this.newRecord}),this.saveRecordsToLocalStorage(),this.renderChart(),this.newRecord={time:"",temperature:null,medicine:"",dose:""}):alert("请输入体温或用药名称")},editRecord(e){this.newRecord={...this.tempRecords[e]},this.editingIndex=e},deleteRecord(e){this.tempRecords.splice(e,1),this.saveRecordsToLocalStorage(),this.renderChart()},saveRecordsToLocalStorage(){localStorage.setItem("tempRecords",JSON.stringify(this.tempRecords))},loadRecordsFromLocalStorage(){const e=localStorage.getItem("tempRecords");e&&(this.tempRecords=JSON.parse(e))},renderChart(){const e=a.Ts(this.$refs.chart),t={title:{text:"体温和用药记录"},tooltip:{trigger:"axis"},grid:{show:!0},xAxis:{type:"time",splitLine:{show:!0},gridIndex:0,axisLabel:{formatter:function(e){const t=new Date(e);return`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()}\n${t.getHours()}:${("0"+t.getMinutes()).slice(-2)}`}}},yAxis:{type:"value",min:35,max:41,interval:.5,gridIndex:0},series:[{name:"体温",data:this.tempRecords.map((e=>({value:[e.time,e.temperature],lineStyle:{color:e.temperature>38?"red":"#42b983"}}))),type:"line",smooth:!0,markPoint:{data:this.tempRecords.filter((e=>e.medicine)).map((e=>({name:"用药",value:`${e.temperature||""}\n${e.medicine||""}${e.dose||""}`,xAxis:e.time,yAxis:e.temperature})))},lineStyle:{color:"#42b983",width:2}}]};e.setOption(t)}},mounted(){this.loadRecordsFromLocalStorage(),this.renderChart()},filters:{datePipe:d}},u=c,l=r(1656),m=(0,l.A)(u,i,o,!1,null,null,null),p=m.exports;n.Ay.config.productionTip=!1,new n.Ay({render:e=>e(p)}).$mount("#app")}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,n,i,o){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],o=e[u][2];for(var s=!0,d=0;d<n.length;d++)(!1&o||a>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[d])}))?n.splice(d--,1):(s=!1,o<a&&(a=o));if(s){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,a=n[0],s=n[1],d=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(d)var u=d(r)}for(t&&t(n);c<a.length;c++)o=a[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},n=self["webpackChunktemp_recored"]=self["webpackChunktemp_recored"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(8582)}));n=r.O(n)})();
//# sourceMappingURL=app.dbad6100.js.map